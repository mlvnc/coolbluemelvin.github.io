<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Hi! I&#39;m Melvin</title>
        <link>/posts/</link>
        <description>Recent content in Posts on Hi! I&#39;m Melvin</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Sat, 02 Mar 2019 19:15:26 +0100</lastBuildDate>
        <atom:link href="/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Hugo, Wercker and Github Pages</title>
            <link>/posts/2019/03/hugo-wercker-and-github-pages/</link>
            <pubDate>Sat, 02 Mar 2019 19:15:26 +0100</pubDate>
            
            <guid>/posts/2019/03/hugo-wercker-and-github-pages/</guid>
            <description>From Hugo for Github Pages Recently I&amp;rsquo;ve started using Hugo to build my personal homepage and blog while serving it using Github Pages. First I started out by updating my Github Pages repository using a deploy script within the Hugo file repository. Of course that&amp;rsquo;s not the way to go so instead I&amp;rsquo;ve been building a deployment pipeline using Wercker.
TL;DR  Create Github repositories (Hugo &amp;amp; Github Pages)</description>
            <content type="html"><![CDATA[

<h1 id="from-hugo-for-github-pages">From Hugo for Github Pages</h1>

<p>Recently I&rsquo;ve started using Hugo to build my personal homepage and blog while serving it using Github Pages. First I started out by updating my Github Pages repository using a deploy script within the Hugo file repository. Of course that&rsquo;s not the way to go so instead I&rsquo;ve been building a deployment pipeline using <a href="https://app.wercker.com/melvincornelissen/mlvn.io/installing/">Wercker</a>.</p>

<h2 id="tl-dr">TL;DR</h2>

<ol>
<li><p>Create <a href="https://github.com">Github</a> repositories (Hugo &amp; Github Pages)</p></li>

<li><p>Install <a href="https://gohugo.io">Hugo</a> in the Hugo repository</p></li>

<li><p>Add <a href="https://gohugo.io">Hugo</a> repository to <a href="https://app.wercker.com">Wercker</a></p>

<ul>
<li>Add the <a href="https://app.wercker.com/steps/melvincornelissen/gh-pages">gh-pages</a> to the deploy pipeline</li>
<li>Add the <a href="https://github.com/settings/tokens">Github personal access token</a> to the deploy pipeline</li>
</ul></li>

<li><p>Trigger a build by pushing a commit into the Hugo repository</p></li>
</ol>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
<li>Github Repository for the Hugo files</li>
<li>Github Repository for the Github page (username.github.io)</li>
<li><a href="https://github.com/settings/tokens">Github personal access token</a></li>
<li><a href="https://app.wercker.com/">Wercker</a> account</li>
</ul>

<h3 id="optional">Optional</h3>

<ul>
<li>Github Repository for the Wercker buildstep</li>
<li><a href="https://www.codacy.com/">Codacy</a> account</li>
</ul>

<h2 id="wercker-build-step">Wercker build step</h2>

<p>Within Wercker there are several build steps already created which you can use for deploying to Github Pages. I however decided to build my own based on uetchy/gh-pages in order to have more control over the script actually running the deployment. You&rsquo;ll need a Github Repository with the following files to build and deploy your own build steps.</p>

<ul>
<li>run.sh</li>
<li>step.yml</li>
<li>wercker.yml</li>
</ul>

<p>The <code>run.sh</code> will contain the script performing the deployment to Github Pages, <code>step.yml</code> contains the build step specific information like the name and all properties and last the <code>wercker.yml</code> file contains the build and deployment steps for the build step itself. The <code>wercker.yml</code> eventually pushes the step into the &ldquo;Steps Store&rdquo; in Wercker.</p>

<p>In case you&rsquo;re interested, my build step can be found in this <a href="https://github.com/coolbluemelvin/wercker-step-gh-pages">Github Repository</a></p>

<h2 id="deployment">Deployment</h2>

<p>The wercker.yml file:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">box<span class="p">:</span><span class="w"> </span>debian<span class="w">
</span><span class="w"></span>build<span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="c"># Steps make up the actions in your pipeline</span><span class="w">
</span><span class="w">    </span><span class="c"># Read more about steps on our dev center:</span><span class="w">
</span><span class="w">    </span><span class="c"># https://devcenter.wercker.com/development/steps/</span><span class="w">
</span><span class="w">
</span><span class="w">  </span>steps<span class="p">:</span><span class="w">
</span><span class="w">    </span>-<span class="w"> </span>install-packages<span class="p">:</span><span class="w">
</span><span class="w">        </span>packages<span class="p">:</span><span class="w"> </span>git<span class="w"> </span>curl<span class="w">
</span><span class="w">    </span>-<span class="w"> </span>script<span class="p">:</span><span class="w">
</span><span class="w">        </span>name<span class="p">:</span><span class="w"> </span>download<span class="w"> </span>hugo<span class="w"> </span>theme<span class="w">
</span><span class="w">        </span>cwd<span class="p">:</span><span class="w"> </span>themes/<span class="w">
</span><span class="w">        </span>code<span class="p">:</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https<span class="p">:</span>//github.com/rhazdon/hugo-theme-hello-friend-ng.git<span class="w"> </span>hello-friend-ng<span class="w">
</span><span class="w">    </span>-<span class="w"> </span>arjen/hugo-build<span class="p">:</span><span class="w">
</span><span class="w">        </span>basedir<span class="p">:</span><span class="w"> </span><span class="s2">&#34;/&#34;</span><span class="w">
</span><span class="w">        </span>version<span class="p">:</span><span class="w"> </span><span class="s2">&#34;0.53&#34;</span><span class="w">
</span><span class="w">        </span>theme<span class="p">:</span><span class="w"> </span>hello-friend-ng<span class="w">
</span><span class="w">        </span>flags<span class="p">:</span><span class="w"> </span>--buildDrafts=<span class="kc">true</span><span class="w">
</span><span class="w">
</span><span class="w"></span>deploy<span class="p">:</span><span class="w">
</span><span class="w">  </span>steps<span class="p">:</span><span class="w">
</span><span class="w">    </span>-<span class="w"> </span>install-packages<span class="p">:</span><span class="w">
</span><span class="w">        </span>packages<span class="p">:</span><span class="w"> </span>git<span class="w"> </span>curl<span class="w">
</span><span class="w">    </span>-<span class="w"> </span>melvincornelissen/gh-pages<span class="p">:</span><span class="w">
</span><span class="w">        </span>token<span class="p">:</span><span class="w"> </span>$GIT_TOKEN<span class="w">
</span><span class="w">        </span>domain<span class="p">:</span><span class="w"> </span>mlvn.io<span class="w">
</span><span class="w">        </span>repo<span class="p">:</span><span class="w"> </span>coolbluemelvin/coolbluemelvin.github.io<span class="w">
</span><span class="w">        </span>path<span class="p">:</span><span class="w"> </span>public</code></pre></div>

    <figure class="center" >
        <img src="/images/wercker.png"  alt="wercker"   style="border-radius: 6px;"  />

        
    </figure>




    <figure class="center" >
        <img src="/images/wercker-build.png"  alt="wercker-build"   style="border-radius: 6px;"  />

        
    </figure>




    <figure class="center" >
        <img src="/images/wercker-deploy.png"  alt="wercker-deploy"   style="border-radius: 6px;"  />

        
    </figure>




    <figure class="center" >
        <img src="/images/codacy.png"  alt="codacy"   style="border-radius: 6px;"  />

        
    </figure>




    <figure class="center" >
        <img src="/images/codacy-checks.png"  alt="codacy-checks"   style="border-radius: 6px;"  />

        
    </figure>




    <figure class="center" >
        <img src="/images/codacy-overview.png"  alt="codacy-overview"   style="border-radius: 6px;"  />

        
    </figure>


]]></content>
        </item>
        
        <item>
            <title>Jamf meets Splunk</title>
            <link>/posts/2019/03/jamf-meets-splunk/</link>
            <pubDate>Fri, 01 Mar 2019 14:32:10 +0100</pubDate>
            
            <guid>/posts/2019/03/jamf-meets-splunk/</guid>
            <description>Jamf metrics to SplunkEnterprise Since we like to have insights in our enrollments we were looking for a solution that could update data as close to realtime as possible. We ended up using Splunk and a intermediate script server. The script server is performing the API call and providing data to the file that&amp;rsquo;s being monitored by a SplunkForwarder.
The script that&amp;rsquo;s performing the API call is the following.</description>
            <content type="html"><![CDATA[

<h3 id="jamf-metrics-to-splunkenterprise">Jamf metrics to SplunkEnterprise</h3>

<p>Since we like to have insights in our enrollments we were looking for a solution that could update data as close to realtime as possible. We ended up using Splunk and a intermediate script server. The script server is performing the API call and providing data to the file that&rsquo;s being monitored by a SplunkForwarder.</p>

<p>The script that&rsquo;s performing the API call is the following.</p>
<div class="highlight"><pre class="chroma"><code class="language-powershell" data-lang="powershell"><span class="c">#gather all enrolled computers</span>
<span class="k">function</span> <span class="n">Jamf_API_call</span> <span class="p">{</span>
<span class="nv">$headers</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="s2">&#34;System.Collections.Generic.Dictionary[[String],[String]]&#34;</span>
<span class="nv">$headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s2">&#34;Accept&#34;</span><span class="p">,</span> <span class="s1">&#39;application/json;version=24&#39;</span><span class="p">)</span>
<span class="nv">$headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s2">&#34;Authorization&#34;</span><span class="p">,</span> <span class="s1">&#39;Basic $jamf_api_auth&#39;</span><span class="p">)</span>

<span class="nv">$data</span> <span class="p">=</span> <span class="nb">Invoke-RestMethod</span> <span class="s2">&#34;https://$jamf_url/JSSResource/computers&#34;</span> <span class="n">-Headers</span> <span class="nv">$headers</span> <span class="n">-OutFile</span> <span class="n">jamf</span><span class="p">.</span><span class="n">json</span>
<span class="nv">$data</span> <span class="p">=</span> <span class="nb">get-content</span> <span class="n">jamf</span><span class="p">.</span><span class="n">json</span> <span class="p">|</span> <span class="nb">convertfrom-json</span>

<span class="nv">$script:macOS_jamf</span> <span class="p">=</span> <span class="nv">$data</span><span class="p">.</span><span class="n">computers</span><span class="p">.</span><span class="n">id</span>
<span class="p">}</span>

<span class="c">#grep General, Hardware, Location and extension_attributes data per computer and add to the log</span>
<span class="k">function</span> <span class="n">Jamf_DATA</span> <span class="p">{</span>
<span class="k">Foreach</span> <span class="p">(</span><span class="nv">$id</span> <span class="k">in</span> <span class="nv">$macOS_jamf</span><span class="p">)</span>
<span class="p">{</span>
<span class="nv">$headers</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="s2">&#34;System.Collections.Generic.Dictionary[[String],[String]]&#34;</span>
<span class="nv">$headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s2">&#34;Accept&#34;</span><span class="p">,</span> <span class="s1">&#39;application/json;version=24&#39;</span><span class="p">)</span>
<span class="nv">$headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s2">&#34;Authorization&#34;</span><span class="p">,</span> <span class="s1">&#39;Basic $jamf_api_auth&#39;</span><span class="p">)</span>
<span class="nv">$mac_data</span> <span class="p">=</span> <span class="nb">Invoke-RestMethod</span> <span class="s2">&#34;https://$jamf_url/JSSResource/computers/id/$id/subset/General&amp;Hardware&amp;Location&amp;extensionattributes&#34;</span> <span class="n">-Headers</span> <span class="nv">$headers</span> <span class="n">-OutFile</span> <span class="n">jamf-out</span><span class="p">.</span><span class="n">json</span>
<span class="nv">$mac_data_new</span> <span class="p">=</span> <span class="nb">get-content</span> <span class="n">jamf-out</span><span class="p">.</span><span class="n">json</span>
<span class="nv">$date</span> <span class="p">=</span> <span class="nb">Get-Date</span>
<span class="s2">&#34;$date $mac_data_new&#34;</span> <span class="p">|</span> <span class="nb">Out-File</span> <span class="n">-Append</span> <span class="p">/</span><span class="n">var</span><span class="p">/</span><span class="n">log</span><span class="p">/</span><span class="n">jamf</span><span class="p">/</span><span class="n">jamf-monitor</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="n">Jamf_API_call</span>
<span class="n">Jamf_DATA</span></code></pre></div>
<p>First we are gathering all enrolled machines using <code>$data = Invoke-RestMethod &quot;https://$jamf_url/JSSResource/computers&quot; -Headers $headers -OutFile jamf.json</code>. That returns a file looking like:</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span><span class="nt">&#34;computers&#34;</span><span class="p">:[{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">148</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-l5e4&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">151</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-5vht&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">152</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-1f61&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">153</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-n86u&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">154</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-bmga&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">165</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-8vjj&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">166</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-9el8&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">168</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-cme4&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">169</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nllm-slr7&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">170</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-o9wm&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">171</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nllm-83em&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">172</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-da30&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">173</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-a9p2&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">174</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nllm-pviq&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">181</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-4o5x&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">184</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-iwn9&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">185</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-yr93&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">205</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nllm-el3h&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">210</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nllm-a4ri&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">211</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-hrzi (2)&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">212</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nllm-8vxm&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">221</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-3xsd&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">222</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-2i3l&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">224</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-9139&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">225</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-4g1t&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">226</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-z97e&#34;</span><span class="p">}]}</span></code></pre></div>
<p>Then we convert that from json using <code>$data = get-content jamf.json | convertfrom-json</code> to put it into a variable with the computers ID per line. When we have that file we use it in the Jamf_DATA function and eventually end up with a log file containg the computers data as following (anonymised):</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="mi">03</span><span class="err">/</span><span class="mi">01</span><span class="err">/</span><span class="mi">2019</span> <span class="mi">15</span><span class="err">:</span><span class="mi">29</span><span class="err">:</span><span class="mi">08</span> <span class="p">{</span><span class="nt">&#34;computer&#34;</span><span class="p">:{</span><span class="nt">&#34;general&#34;</span><span class="p">:{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">226</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-z97e&#34;</span><span class="p">,</span><span class="nt">&#34;mac_address&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;alt_mac_address&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;ip_address&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;last_reported_ip&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;serial_number&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;udid&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;jamf_version&#34;</span><span class="p">:</span><span class="s2">&#34;10.9.0-t1544463445&#34;</span><span class="p">,</span><span class="nt">&#34;platform&#34;</span><span class="p">:</span><span class="s2">&#34;Mac&#34;</span><span class="p">,</span><span class="nt">&#34;barcode_1&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;barcode_2&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;asset_tag&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;remote_management&#34;</span><span class="p">:{</span><span class="nt">&#34;managed&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&#34;management_username&#34;</span><span class="p">:</span><span class="s2">&#34;macadmin&#34;</span><span class="p">,</span><span class="nt">&#34;management_password_sha256&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">},</span><span class="nt">&#34;mdm_capable&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&#34;mdm_capable_users&#34;</span><span class="p">:{</span><span class="nt">&#34;mdm_capable_user&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">},</span><span class="nt">&#34;management_status&#34;</span><span class="p">:{</span><span class="nt">&#34;enrolled_via_dep&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&#34;user_approved_enrollment&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&#34;user_approved_mdm&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nt">&#34;report_date&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01 09:49:19&#34;</span><span class="p">,</span><span class="nt">&#34;report_date_epoch&#34;</span><span class="p">:</span><span class="mi">1551433759204</span><span class="p">,</span><span class="nt">&#34;report_date_utc&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01T09:49:19.204+0000&#34;</span><span class="p">,</span><span class="nt">&#34;last_contact_time&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01 14:10:28&#34;</span><span class="p">,</span><span class="nt">&#34;last_contact_time_epoch&#34;</span><span class="p">:</span><span class="mi">1551449428195</span><span class="p">,</span><span class="nt">&#34;last_contact_time_utc&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01T14:10:28.195+0000&#34;</span><span class="p">,</span><span class="nt">&#34;initial_entry_date&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01&#34;</span><span class="p">,</span><span class="nt">&#34;initial_entry_date_epoch&#34;</span><span class="p">:</span><span class="mi">1551429401260</span><span class="p">,</span><span class="nt">&#34;initial_entry_date_utc&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01T08:36:41.260+0000&#34;</span><span class="p">,</span><span class="nt">&#34;last_cloud_backup_date_epoch&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;last_cloud_backup_date_utc&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;last_enrolled_date_epoch&#34;</span><span class="p">:</span><span class="mi">1551429428657</span><span class="p">,</span><span class="nt">&#34;last_enrolled_date_utc&#34;</span><span class="p">:</span><span class="s2">&#34;2019-03-01T08:37:08.657+0000&#34;</span><span class="p">,</span><span class="nt">&#34;distribution_point&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;sus&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;netboot_server&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;site&#34;</span><span class="p">:{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">-1</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;None&#34;</span><span class="p">},</span><span class="nt">&#34;itunes_store_account_is_active&#34;</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nt">&#34;location&#34;</span><span class="p">:{</span><span class="nt">&#34;username&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;realname&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;real_name&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;email_address&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;position&#34;</span><span class="p">:</span><span class="s2">&#34;Developer&#34;</span><span class="p">,</span><span class="nt">&#34;phone&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;phone_number&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;department&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;building&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;room&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">},</span><span class="nt">&#34;hardware&#34;</span><span class="p">:{</span><span class="nt">&#34;make&#34;</span><span class="p">:</span><span class="s2">&#34;Apple&#34;</span><span class="p">,</span><span class="nt">&#34;model&#34;</span><span class="p">:</span><span class="s2">&#34;13-inch MacBook Pro (Early 2015)&#34;</span><span class="p">,</span><span class="nt">&#34;model_identifier&#34;</span><span class="p">:</span><span class="s2">&#34;MacBookPro12,1&#34;</span><span class="p">,</span><span class="nt">&#34;os_name&#34;</span><span class="p">:</span><span class="s2">&#34;Mac OS X&#34;</span><span class="p">,</span><span class="nt">&#34;os_version&#34;</span><span class="p">:</span><span class="s2">&#34;10.14.3&#34;</span><span class="p">,</span><span class="nt">&#34;os_build&#34;</span><span class="p">:</span><span class="s2">&#34;18D42&#34;</span><span class="p">,</span><span class="nt">&#34;master_password_set&#34;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&#34;active_directory_status&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;service_pack&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;processor_type&#34;</span><span class="p">:</span><span class="s2">&#34;Intel Core i7&#34;</span><span class="p">,</span><span class="nt">&#34;processor_architecture&#34;</span><span class="p">:</span><span class="s2">&#34;x86_64&#34;</span><span class="p">,</span><span class="nt">&#34;processor_speed&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;processor_speed_mhz&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;number_processors&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">&#34;number_cores&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">&#34;total_ram&#34;</span><span class="p">:</span><span class="mi">16384</span><span class="p">,</span><span class="nt">&#34;total_ram_mb&#34;</span><span class="p">:</span><span class="mi">16384</span><span class="p">,</span><span class="nt">&#34;boot_rom&#34;</span><span class="p">:</span><span class="s2">&#34;180.0.0.0.0&#34;</span><span class="p">,</span><span class="nt">&#34;bus_speed&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;bus_speed_mhz&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;battery_capacity&#34;</span><span class="p">:</span><span class="mi">96</span><span class="p">,</span><span class="nt">&#34;cache_size&#34;</span><span class="p">:</span><span class="mi">4096</span><span class="p">,</span><span class="nt">&#34;cache_size_kb&#34;</span><span class="p">:</span><span class="mi">4096</span><span class="p">,</span><span class="nt">&#34;available_ram_slots&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;optical_drive&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;nic_speed&#34;</span><span class="p">:</span><span class="s2">&#34;10/100/1000&#34;</span><span class="p">,</span><span class="nt">&#34;smc_version&#34;</span><span class="p">:</span><span class="s2">&#34;2.28f7&#34;</span><span class="p">,</span><span class="nt">&#34;ble_capable&#34;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&#34;sip_status&#34;</span><span class="p">:</span><span class="s2">&#34;Enabled&#34;</span><span class="p">,</span><span class="nt">&#34;gatekeeper_status&#34;</span><span class="p">:</span><span class="s2">&#34;App Store and identified developers&#34;</span><span class="p">,</span><span class="nt">&#34;xprotect_version&#34;</span><span class="p">:</span><span class="s2">&#34;2101&#34;</span><span class="p">,</span><span class="nt">&#34;institutional_recovery_key&#34;</span><span class="p">:</span><span class="s2">&#34;Not Present&#34;</span><span class="p">,</span><span class="nt">&#34;disk_encryption_configuration&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;filevault2_users&#34;</span><span class="p">:[],</span><span class="nt">&#34;storage&#34;</span><span class="p">:[{</span><span class="nt">&#34;disk&#34;</span><span class="p">:</span><span class="s2">&#34;disk0&#34;</span><span class="p">,</span><span class="nt">&#34;model&#34;</span><span class="p">:</span><span class="s2">&#34;APPLE SSD SM0512G&#34;</span><span class="p">,</span><span class="nt">&#34;revision&#34;</span><span class="p">:</span><span class="s2">&#34;BXZ13A0Q&#34;</span><span class="p">,</span><span class="nt">&#34;serial_number&#34;</span><span class="p">:</span><span class="s2">&#34;xxx&#34;</span><span class="p">,</span><span class="nt">&#34;size&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;drive_capacity_mb&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;connection_type&#34;</span><span class="p">:</span><span class="s2">&#34;NO&#34;</span><span class="p">,</span><span class="nt">&#34;smart_status&#34;</span><span class="p">:</span><span class="s2">&#34;Verified&#34;</span><span class="p">,</span><span class="nt">&#34;partition&#34;</span><span class="p">:{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;Macintosh HD (Boot Partition)&#34;</span><span class="p">,</span><span class="nt">&#34;size&#34;</span><span class="p">:</span><span class="mi">476902</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;boot&#34;</span><span class="p">,</span><span class="nt">&#34;partition_capacity_mb&#34;</span><span class="p">:</span><span class="mi">476902</span><span class="p">,</span><span class="nt">&#34;percentage_full&#34;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">&#34;filevault_status&#34;</span><span class="p">:</span><span class="s2">&#34;Not Encrypted&#34;</span><span class="p">,</span><span class="nt">&#34;filevault_percent&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;filevault2_status&#34;</span><span class="p">:</span><span class="s2">&#34;Not Encrypted&#34;</span><span class="p">,</span><span class="nt">&#34;filevault2_percent&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;boot_drive_available_mb&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;lvgUUID&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;lvUUID&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;pvUUID&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">}},{</span><span class="nt">&#34;disk&#34;</span><span class="p">:</span><span class="s2">&#34;disk2&#34;</span><span class="p">,</span><span class="nt">&#34;model&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;revision&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;serial_number&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;size&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;drive_capacity_mb&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;connection_type&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;smart_status&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="nt">&#34;partition&#34;</span><span class="p">:{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;Google Chrome&#34;</span><span class="p">,</span><span class="nt">&#34;size&#34;</span><span class="p">:</span><span class="mi">195</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;other&#34;</span><span class="p">,</span><span class="nt">&#34;partition_capacity_mb&#34;</span><span class="p">:</span><span class="mi">195</span><span class="p">,</span><span class="nt">&#34;percentage_full&#34;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="nt">&#34;filevault_status&#34;</span><span class="p">:</span><span class="s2">&#34;Not Encrypted&#34;</span><span class="p">,</span><span class="nt">&#34;filevault_percent&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&#34;filevault2_status&#34;</span><span class="p">:</span><span class="s2">&#34;Not Encrypted&#34;</span><span class="p">,</span><span class="nt">&#34;filevault2_percent&#34;</span><span class="p">:</span><span class="mi">0</span><span class="p">}}],</span><span class="nt">&#34;mapped_printers&#34;</span><span class="p">:[{</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;xxx @ xxx&#34;</span><span class="p">,</span><span class="nt">&#34;uri&#34;</span><span class="p">:</span><span class="s2">&#34;ipp://xxx%20%40%xxx%E2%80%99s%20MacBook%20Pro._ipp._tcp.local./cups&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;Xerox WorkCentre 6605DN&#34;</span><span class="p">,</span><span class="nt">&#34;location&#34;</span><span class="p">:</span><span class="s2">&#34;Weena Copyroom 8A&#34;</span><span class="p">}]},</span><span class="nt">&#34;extension_attributes&#34;</span><span class="p">:[{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;coolblue-enrolled&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;3&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;coolblue-filevault&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;FileVault is Off.&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;coolblue-initial-hostname&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-z97e&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;Host name&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;nldm-z97e&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;Last User&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;R&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;Not Installed&#34;</span><span class="p">},{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;Uptime&#34;</span><span class="p">,</span><span class="nt">&#34;type&#34;</span><span class="p">:</span><span class="s2">&#34;String&#34;</span><span class="p">,</span><span class="nt">&#34;value&#34;</span><span class="p">:</span><span class="s2">&#34;10:49  up  1:06, 1 user, load averages: 2.13 1.67 1.48&#34;</span><span class="p">}]}}</span></code></pre></div>
<p>The script is creating <code>/var/log/jamf/jamf-monitor</code> which is being monitored by the SplunkForwarder using the following inputs.conf.</p>
<div class="highlight"><pre class="chroma"><code class="language-textile" data-lang="textile">[monitor:///var/log/jamf/jamf-monitor]
index=production_jamf
sourcetype=jamf
disabled = false</code></pre></div>
<p>Eventually we&rsquo;re pushing the data into an index in our Splunkcloud environment. Due to the fact we&rsquo;re pushing JSON through our SplunkForwarder we needed to create a new sourcetype and adjust adjust it for the JSON we&rsquo;re pushing to Splunk. The actual changes made are the following:</p>
<div class="highlight"><pre class="chroma"><code class="language-textile" data-lang="textile">Indexed Extractions   none
SEDCMD-strip_prefix   s/^[^{]+//g
KV_MODE               json</code></pre></div>
<p>This results in the following dashboard 🧐.</p>


    <figure class="center" >
        <img src="/images/jamf-to-splunk.png"  alt="Jamf "   style="border-radius: 8px;"  />

        
    </figure>


]]></content>
        </item>
        
        <item>
            <title>Jamf Self Service and Win10 VMs</title>
            <link>/posts/2019/03/jamf-self-service-and-win10-vms/</link>
            <pubDate>Fri, 01 Mar 2019 13:57:04 +0100</pubDate>
            
            <guid>/posts/2019/03/jamf-self-service-and-win10-vms/</guid>
            <description> Auto install Win 10 VBox VM&amp;rsquo;s through Jamf self service </description>
            <content type="html"><![CDATA[

<h1 id="auto-install-win-10-vbox-vm-s-through-jamf-self-service">Auto install Win 10 VBox VM&rsquo;s through Jamf self service</h1>
]]></content>
        </item>
        
        <item>
            <title>Catipsum</title>
            <link>/posts/2019/02/catipsum/</link>
            <pubDate>Thu, 28 Feb 2019 21:09:16 +0100</pubDate>
            
            <guid>/posts/2019/02/catipsum/</guid>
            <description>Rub face on owner lick face hiss at owner, pee a lot, and meow repeatedly scratch at fence purrrrrr eat muffins and poutine until owner comes back Eat an easter feather as if it were a bird then burp victoriously, but tender wack the mini furry mouse Gate keepers of hell ooooh feather moving feather! This human feeds me, i should be a god favor packaging over toy more napping, more napping all the napping is exhausting or kitty scratches couch bad kitty the door is opening!</description>
            <content type="html"><![CDATA[

<h3 id="rub-face-on-owner-lick-face-hiss-at-owner-pee-a-lot-and-meow-repeatedly-scratch-at-fence-purrrrrr-eat-muffins-and-poutine-until-owner-comes-back">Rub face on owner lick face hiss at owner, pee a lot, and meow repeatedly scratch at fence purrrrrr eat muffins and poutine until owner comes back</h3>

<p>Eat an easter feather as if it were a bird then burp victoriously, but tender wack the mini furry mouse Gate keepers of hell ooooh feather moving feather!
This human feeds me, i should be a god favor packaging over toy more napping, more napping all the napping is exhausting or kitty scratches couch bad kitty the door is opening! how exciting oh, it&rsquo;s you, meh slap kitten brother with paw but stuff and things. Climb a tree, wait for a fireman jump to fireman then scratch his face pretend not to be evil yet poop in a handbag look delicious and drink the soapy mopping up water then puke giant foamy fur-balls see owner, run in terror. Have my breakfast spaghetti yarn lie in the sink all day. Who&rsquo;s the baby freak human out make funny noise mow mow mow mow mow mow success now attack human purr for no reason yet stand in front of the computer screen purr like an angel crusty butthole, chew master&rsquo;s slippers. Toilet paper attack claws fluff everywhere meow miao french ciao litterbox milk the cow i shall purr myself to sleep. Stare at guinea pigs when owners are asleep, cry for no apparent reason so catty ipsum. Decide to want nothing to do with my owner today spit up on light gray carpet instead of adjacent linoleum yet kitty poochy and dead stare with ears cocked but knock over christmas tree for if human is on laptop sit on the keyboard. Demand to have some of whatever the human is cooking, then sniff the offering and walk away poop in litter box, scratch the walls yet chase the pig around the house. Russian blue find something else more interesting, or stand in front of the computer screen. Trip owner up in kitchen i want food cough hairball, eat toilet paper but annoy the old grumpy cat, start a fight and then retreat to wash when i lose stick butt in face, meoooow yet eat too much then proceed to regurgitate all over living room carpet while humans eat dinner. Intently sniff hand meow gimme attention gimme attention gimme attention gimme attention gimme attention gimme attention just kidding i don&rsquo;t want it anymore meow bye, get suspicious of own shadow then go play with toilette paper. Missing until dinner time. Find empty spot in cupboard and sleep all day meeeeouw hey! you there, with the hands howl on top of tall thing. Open the door, let me out, let me out, let me-out, let me-aow, let meaow, meaow! lick human with sandpaper tongue crusty butthole white cat sleeps on a black shirt all of a sudden cat goes crazy. Destroy house in 5 seconds. Stuff and things i like big cats and i can not lie and cough hairball, eat toilet paper chew iPad power cord, or favor packaging over toy. Rub butt on table run up and down stairs kitty kitty so climb leg i shall purr myself to sleep yet making sure that fluff gets into the owner&rsquo;s eyes. Sit on the laptop. See owner, run in terror wake up human for food at 4am.</p>

<p>Dismember a mouse and then regurgitate parts of it on the family room floor drink water out of the faucet scamper or chase imaginary bugs. Purr for no reason. Prance along on top of the garden fence, annoy the neighbor&rsquo;s dog and make it bark cat mojo step on your keyboard while you&rsquo;re gaming and then turn in a circle . Side-eyes your &ldquo;jerk&rdquo; other hand while being petted slap kitten brother with paw loves cheeseburgers flee in terror at cucumber discovered on floor, hide head under blanket so no one can see or relentlessly pursues moth. Jump on human and sleep on her all night long be long in the bed, purr in the morning and then give a bite to every human around for not waking up request food, purr loud scratch the walls, the floor, the windows, the humans step on your keyboard while you&rsquo;re gaming and then turn in a circle . Poop on grasses cats go for world domination. Toilet paper attack claws fluff everywhere meow miao french ciao litterbox pelt around the house and up and down stairs chasing phantoms claw your carpet in places everyone can see - why hide my amazing artistic clawing skills? and hopped up on catnip. Meow all night refuse to come home when humans are going to bed; stay out all night then yowl like i am dying at 4am, eat too much then proceed to regurgitate all over living room carpet while humans eat dinner. Sleep everywhere, but not in my bed cat is love, cat is life scratch at the door then walk away so steal the warm chair right after you get up. Disappear for four days and return home with an expensive injury; bite the vet go into a room to decide you didn&rsquo;t want to be in there anyway. Cats woo my water bowl is clean and freshly replenished, so i&rsquo;ll drink from the toilet or hate dog. Meowwww ignore the human until she needs to get up, then climb on her lap and sprawl, yet check cat door for ambush 10 times before coming in for when owners are asleep, cry for no apparent reason but eat a plant, kill a hand but stand with legs in litter box, but poop outside. Hiss and stare at nothing then run suddenly away meow meow, i tell my human has closed eyes but still sees you and eats owners hair then claws head, but eat grass, throw it back up my left donut is missing, as is my right and sniff all the things. Nap all day. Meow meow sun bathe, but refuse to leave cardboard box meow all night having their mate disturbing sleeping humans make meme, make cute face. White cat sleeps on a black shirt climb a tree, wait for a fireman jump to fireman then scratch his face. Rub face on everything hiiiiiiiiii feed me now immediately regret falling into bathtub bathe private parts with tongue then lick owner&rsquo;s face cat mojo claws in your leg. Crash against wall but walk away like nothing happened i could pee on this if i had the energy eat all the power cords leave hair everywhere, or i like frogs and 0 gravity. Meeeeouw. Spend six hours per day washing, but still have a crusty butthole intently stare at the same spot. Missing until dinner time chase laser, for mouse, yet inspect anything brought into the house, or lick the plastic bag. Claws in the eye of the beholder soft kitty warm kitty little ball of furr have secret plans.</p>

<p>Small kitty warm kitty little balls of fur claw drapes, so chew iPad power cord if it fits, i sits so if human is on laptop sit on the keyboard. Claw your carpet in places everyone can see - why hide my amazing artistic clawing skills? chase imaginary bugs, slap owner&rsquo;s face at 5am until human fills food dish, plays league of legends. Sniff sniff. Jump launch to pounce upon little yarn mouse, bare fangs at toy run hide in litter box until treats are fed hopped up on catnip, and i’m so hungry i’m so hungry but ew not for that so when in doubt, wash, chirp at birds. Hate dog destroy couch as revenge pretend you want to go out but then don&rsquo;t and warm up laptop with butt lick butt fart rainbows until owner yells pee in litter box hiss at cats my cat stared at me he was sipping his tea, too thinking longingly about tuna brine. Paw at your fat belly cat cat moo moo lick ears lick paws but annoy the old grumpy cat, start a fight and then retreat to wash when i lose mrow jump on human and sleep on her all night long be long in the bed, purr in the morning and then give a bite to every human around for not waking up request food, purr loud scratch the walls, the floor, the windows, the humans. Meow all night having their mate disturbing sleeping humans hit you unexpectedly, and sweet beast meowwww lick human with sandpaper tongue intently stare at the same spot. Play time hunt by meowing loudly at 5am next to human slave food dispenser yet i shall purr myself to sleep. Put butt in owner&rsquo;s face reward the chosen human with a slow blink so kitty scratches couch bad kitty i am the best. Eat the fat cats food you have cat to be kitten me right meow and i like big cats and i can not lie or i like big cats and i can not lie or paw at beetle and eat it before it gets away so why must they do that, for fat baby cat best buddy little guy. Lounge in doorway ignore the squirrels, you&rsquo;ll never catch them anyway for flee in terror at cucumber discovered on floor hide at bottom of staircase to trip human it&rsquo;s 3am, time to create some chaos so claw drapes. Cats are cute lick left leg for ninety minutes, still dirty. Purrrrrr swat turds around the house russian blue catasstrophe for dismember a mouse and then regurgitate parts of it on the family room floor chase ball of string tuxedo cats always looking dapper. Poop in a handbag look delicious and drink the soapy mopping up water then puke giant foamy fur-balls jump five feet high and sideways when a shadow moves yet slap owner&rsquo;s face at 5am until human fills food dish and catch mouse and gave it as a present let me in let me out let me in let me out let me in let me out who broke this door anyway and cat dog hate mouse eat string barf pillow no baths hate everything. Meow loudly just to annoy owners. Prance along on top of the garden fence, annoy the neighbor&rsquo;s dog and make it bark munch on tasty moths for meow for meowwww. And sometimes switches in french and say &ldquo;miaou&rdquo; just because well why not terrorize the hundred-and-twenty-pound rottweiler and steal his bed, not sorry but Gate keepers of hell relentlessly pursues moth. This human feeds me, i should be a god eat an easter feather as if it were a bird then burp victoriously, but tender side-eyes your &ldquo;jerk&rdquo; other hand while being petted .</p>

<p>Chill on the couch table. All of a sudden cat goes crazy i like fish eat a plant, kill a hand crash against wall but walk away like nothing happened yet plop down in the middle where everybody walks please stop looking at your phone and pet me cats woo. Have a lot of grump in yourself because you can&rsquo;t forget to be grumpy and not be like king grumpy cat sleeps on my head and slap kitten brother with paw favor packaging over toy. Meow mark territory, but wake up wander around the house making large amounts of noise jump on top of your human&rsquo;s bed and fall asleep again flex claws on the human&rsquo;s belly and purr like a lawnmower or dismember a mouse and then regurgitate parts of it on the family room floor. Jump five feet high and sideways when a shadow moves ask for petting but jump off balcony, onto stranger&rsquo;s head. Friends are not food curl up and sleep on the freshly laundered towels but hide head under blanket so no one can see you have cat to be kitten me right meow, fooled again thinking the dog likes me. Rub face on everything give attitude, yet chase dog then run away i’m so hungry i’m so hungry but ew not for that for murf pratt ungow ungow, intently stare at the same spot. This human feeds me, i should be a god stare at wall turn and meow stare at wall some more meow again continue staring so the fat cat sat on the mat bat away with paws intently stare at the same spot, but playing with balls of wool so meow or pose purrfectly to show my beauty. Ignore the squirrels, you&rsquo;ll never catch them anyway eat the rubberband and flee in terror at cucumber discovered on floor so scamper or make plans to dominate world and then take a nap run outside as soon as door open i bet my nine lives on you-oooo-ooo-hooo. Love chew the plant wack the mini furry mouse eat the fat cats food yet ooooh feather moving feather! yet trip owner up in kitchen i want food. Cat ass trophy the dog smells bad for make muffins. Destroy house in 5 seconds claw your carpet in places everyone can see - why hide my amazing artistic clawing skills?. Meow loudly just to annoy owners chase imaginary bugs, intently sniff hand plays league of legends. Russian blue. Brown cats with pink ears flex claws on the human&rsquo;s belly and purr like a lawnmower steal the warm chair right after you get up purr as loud as possible, be the most annoying cat that you can, and, knock everything off the table fooled again thinking the dog likes me immediately regret falling into bathtub mark territory. Gate keepers of hell lie on your belly and purr when you are asleep for friends are not food human is washing you why halp oh the horror flee scratch hiss bite. Check cat door for ambush 10 times before coming in meowzer so ccccccccccccaaaaaaaaaaaaaaatttttttttttttttttssssssssssssssss. Kitty loves pigs meow and walk away. Lick face hiss at owner, pee a lot, and meow repeatedly scratch at fence purrrrrr eat muffins and poutine until owner comes back nap all day i hate cucumber pls dont throw it at me, lick butt, so give me some of your food give me some of your food give me some of your food meh, i don&rsquo;t want it attack like a vicious monster. I like frogs and 0 gravity sleeps on my head eat too much then proceed to regurgitate all over living room carpet while humans eat dinner and sit and stare kick up litter. I can haz drink water out of the faucet need to check on human, have not seen in an hour might be dead oh look, human is alive, hiss at human, feed me sit in box. Try to jump onto window and fall while scratching at wall taco cat backwards spells taco cat yet catty ipsum, yet chase imaginary bugs. Meow meow, i tell my human have my breakfast spaghetti yarn find empty spot in cupboard and sleep all day but purrr purr littel cat, little cat purr purr playing with balls of wool spit up on light gray carpet instead of adjacent linoleum.</p>

<p>Lick master&rsquo;s hand at first then bite because im moody kitty scratches couch bad kitty meow eat a rug and furry furry hairs everywhere oh no human coming lie on counter don&rsquo;t get off counter stuff and things go into a room to decide you didn&rsquo;t want to be in there anyway stare at ceiling. Hunt by meowing loudly at 5am next to human slave food dispenser. Give me some of your food give me some of your food give me some of your food meh, i don&rsquo;t want it purrrrrr purr like an angel. Making sure that fluff gets into the owner&rsquo;s eyes fat baby cat best buddy little guy, meowing chowing and wowing but stares at human while pushing stuff off a table what a cat-ass-trophy! stare at guinea pigs give attitude. Ooh, are those your $250 dollar sandals? lemme use that as my litter box jump off balcony, onto stranger&rsquo;s head and human give me attention meow. Sleeps on my head. Cough furball into food bowl then scratch owner for a new one hate dog, let me in let me out let me in let me out let me in let me out who broke this door anyway catch mouse and gave it as a present thinking longingly about tuna brine for carefully drink from water glass and then spill it everywhere and proceed to lick the puddle. Chase laser annoy owner until he gives you food say meow repeatedly until belly rubs, feels good munch on tasty moths furrier and even more furrier hairball. White cat sleeps on a black shirt run outside as soon as door open. Behind the couch stare at ceiling. Making sure that fluff gets into the owner&rsquo;s eyes munch on tasty moths litter kitter kitty litty little kitten big roar roar feed me and you have cat to be kitten me right meow.</p>

<p>Chew foot hide when guests come over, so side-eyes your &ldquo;jerk&rdquo; other hand while being petted but has closed eyes but still sees you. Munch on tasty moths eat and than sleep on your face and this human feeds me, i should be a god i shall purr myself to sleep. Show belly destroy couch as revenge or cuddle no cuddle cuddle love scratch scratch yet poop on grasses. Demand to have some of whatever the human is cooking, then sniff the offering and walk away. Hiding behind the couch until lured out by a feathery toy ask for petting ears back wide eyed, wake up wander around the house making large amounts of noise jump on top of your human&rsquo;s bed and fall asleep again leave fur on owners clothes for swat at dog, yet annoy kitten brother with poking. Dismember a mouse and then regurgitate parts of it on the family room floor slap owner&rsquo;s face at 5am until human fills food dish. Lay on arms while you&rsquo;re using the keyboard i’m so hungry i’m so hungry but ew not for that show belly under the bed i bet my nine lives on you-oooo-ooo-hooo or eat the fat cats food. Sniff all the things plan steps for world domination chew on cable so stand in front of the computer screen need to check on human, have not seen in an hour might be dead oh look, human is alive, hiss at human, feed me and scratch at fleas, meow until belly rubs, hide behind curtain when vacuum cleaner is on scratch strangers and poo on owners food. Stares at human while pushing stuff off a table man running from cops stops to pet cats, goes to jail then cats take over the world meow poop in the plant pot but push your water glass on the floor. do not try to mix old food with new one to fool me! cough furball. Make muffins eat plants, meow, and throw up because i ate plants for spill litter box, scratch at owner, destroy all furniture, especially couch. Man running from cops stops to pet cats, goes to jail. Massacre a bird in the living room and then look like the cutest and most innocent animal on the planet lick butt, for wake up wander around the house making large amounts of noise jump on top of your human&rsquo;s bed and fall asleep again walk on car leaving trail of paw prints on hood and windshield for climb a tree, wait for a fireman jump to fireman then scratch his face take a big fluffing crap 💩 and swat turds around the house. Hiss at vacuum cleaner make it to the carpet before i vomit mmmmmm, cat mojo . Try to hold own back foot to clean it but foot reflexively kicks you in face, go into a rage and bite own foot, hard.</p>

<p>I am the best. My slave human didn&rsquo;t give me any food so i pooped on the floor eat half my food and ask for more kitty ipsum dolor sit amet, shed everywhere shed everywhere stretching attack your ankles chase the red dot, hairball run catnip eat the grass sniff claws in the eye of the beholder, for it&rsquo;s 3am, time to create some chaos but meow for food, then when human fills food dish, take a few bites of food and continue meowing groom yourself 4 hours - checked, have your beauty sleep 18 hours - checked, be fabulous for the rest of the day - checked. Spill litter box, scratch at owner, destroy all furniture, especially couch. Chase laser crash against wall but walk away like nothing happened and cat not kitten around or fall asleep on the washing machine chase red laser dot for all of a sudden cat goes crazy. Proudly present butt to human. Fooled again thinking the dog likes me make it to the carpet before i vomit mmmmmm. Friends are not food human clearly uses close to one life a night no one naps that long so i revive by standing on chestawaken! have my breakfast spaghetti yarn sleep on my human&rsquo;s head spot something, big eyes, big eyes, crouch, shake butt, prepare to pounce if it fits i sits or side-eyes your &ldquo;jerk&rdquo; other hand while being petted . Sniff other cat&rsquo;s butt and hang jaw half open thereafter. Inspect anything brought into the house meow to be let out but push your water glass on the floor for pushes butt to face or lick face hiss at owner, pee a lot, and meow repeatedly scratch at fence purrrrrr eat muffins and poutine until owner comes back, yet spend six hours per day washing, but still have a crusty butthole. Claws in the eye of the beholder. Warm up laptop with butt lick butt fart rainbows until owner yells pee in litter box hiss at cats. Poop in litter box, scratch the walls fooled again thinking the dog likes me. Meow meow cough furball into food bowl then scratch owner for a new one. Ask to be pet then attack owners hand. Spend all night ensuring people don&rsquo;t sleep sleep all day. That box? i can fit in that box leave fur on owners clothes, for meow to be let in hide head under blanket so no one can see. Pee in human&rsquo;s bed until he cleans the litter box get video posted to internet for chasing red dot. I love cuddles purr for no reason for i heard this rumor where the humans are our owners, pfft, what do they know?!. Hide head under blanket so no one can see.</p>

<p>Fall asleep upside-down run outside as soon as door open and check cat door for ambush 10 times before coming in toilet paper attack claws fluff everywhere meow miao french ciao litterbox cat gets stuck in tree firefighters try to get cat down firefighters get stuck in tree cat eats firefighters&rsquo; slippers, for paw at beetle and eat it before it gets away. Meow and walk away fall over dead (not really but gets sypathy) make it to the carpet before i vomit mmmmmm, so white cat sleeps on a black shirt and chew foot lick left leg for ninety minutes, still dirty so rub whiskers on bare skin act innocent. Has closed eyes but still sees you lick the plastic bag so cuddle no cuddle cuddle love scratch scratch but make plans to dominate world and then take a nap. Tickle my belly at your own peril i will pester for food when you&rsquo;re in the kitchen even if it&rsquo;s salad licks your face attack the child destroy house in 5 seconds and pet me pet me pet me pet me, bite, scratch, why are you petting me. Sweet beast groom yourself 4 hours - checked, have your beauty sleep 18 hours - checked, be fabulous for the rest of the day - checked i like cats because they are fat and fluffy. Purr when being pet hide head under blanket so no one can see. Wack the mini furry mouse immediately regret falling into bathtub yet friends are not food i shredded your linens for you hack this human feeds me, i should be a god meow. Floof tum, tickle bum, jellybean footies curly toes somehow manage to catch a bird but have no idea what to do next, so play with it until it dies of shock. Chew foot all of a sudden cat goes crazy, and and sometimes switches in french and say &ldquo;miaou&rdquo; just because well why not, yet freak human out make funny noise mow mow mow mow mow mow success now attack human but lick butt and make a weird face. Love and coo around boyfriend who purrs and makes the perfect moonlight eyes so i can purr and swat the glittery gleaming yarn to him (the yarn is from a $125 sweater) the cat was chasing the mouse stick butt in face. Always hungry sit on human. Sleep on my human&rsquo;s head. Cats go for world domination toilet paper attack claws fluff everywhere meow miao french ciao litterbox and scratch me there, elevator butt. Lick sellotape i like frogs and 0 gravity for drink water out of the faucet or murr i hate humans they are so annoying for chew iPad power cord hide head under blanket so no one can see. Allways wanting food i could pee on this if i had the energy or fat baby cat best buddy little guy so fall asleep on the washing machine scoot butt on the rug for shake treat bag.</p>
]]></content>
        </item>
        
        <item>
            <title>My First Post</title>
            <link>/posts/2019/02/my-first-post/</link>
            <pubDate>Thu, 28 Feb 2019 19:53:04 +0100</pubDate>
            
            <guid>/posts/2019/02/my-first-post/</guid>
            <description>Hello? 🦄🐶🐱🐭🐹🐰🦊🐻🐼🐨🐯🦁🐮🐷 Hello! 🚒🚐🗽🚊🚉🚛🏖🎠💺🛬🎡🏰🏤🏦</description>
            <content type="html"><![CDATA[<p>Hello? 🦄🐶🐱🐭🐹🐰🦊🐻🐼🐨🐯🦁🐮🐷
Hello! 🚒🚐🗽🚊🚉🚛🏖🎠💺🛬🎡🏰🏤🏦</p>
]]></content>
        </item>
        
        <item>
            <title>Rename machine script</title>
            <link>/posts/2019/02/rename-machine-script/</link>
            <pubDate>Thu, 28 Feb 2019 19:53:04 +0100</pubDate>
            
            <guid>/posts/2019/02/rename-machine-script/</guid>
            <description>This post is to test the PrismJS syntax highlighting.
#!/bin/bash  ##################### ##### Variables ##### ##################### # $LDAP_HOST = ldap host (jamf parameter 4) # $LDAP_PASSWORD = ldap password (jamf parameter 5) # $LDAP_USER = ldap user (jamf parameter 6) # $OU (jamf parameter 7) # $API_USER (jamf parameter 8) # $API_PASSWORD (jamf parameter 9) ############################ ##### Script Variables ##### ############################ # $EXISTING_RECORDS = an LDAP query to get all existing records.</description>
            <content type="html"><![CDATA[<p>This post is to test the PrismJS syntax highlighting.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="c1">#####################</span>
<span class="c1">##### Variables #####</span>
<span class="c1">#####################</span>
<span class="c1"># $LDAP_HOST = ldap host (jamf parameter 4)</span>
<span class="c1"># $LDAP_PASSWORD = ldap password (jamf parameter 5)</span>
<span class="c1"># $LDAP_USER = ldap user (jamf parameter 6)</span>
<span class="c1"># $OU (jamf parameter 7)</span>
<span class="c1"># $API_USER (jamf parameter 8)</span>
<span class="c1"># $API_PASSWORD (jamf parameter 9)</span>

<span class="c1">############################</span>
<span class="c1">##### Script Variables #####</span>
<span class="c1">############################</span>
<span class="c1"># $EXISTING_RECORDS = an LDAP query to get all existing records.</span>
<span class="c1"># $DEVELOPERS = an API query to check if the current user ($3), is a developer. (checks if a user is member of DLG-APP-JAMF-Clients-Developers).</span>
<span class="c1"># $UUID = A 4 digit random generated alphanumeric string.</span>
<span class="c1"># $PREFIX = the Hostname prefix we put before the random generated alphanumeric string.</span>
<span class="c1"># $NEW_HOSTNAME = putting the prefix and Unique alphanumeric string together resulting the new unique hostname.</span>
<span class="c1"># $BAD_WORDS_LIST = dowloads a list with unauthorized words from the Office Automation repository (Github RAW).</span>

<span class="c1"># bash generate random 4 character alphanumeric string (upper and lowercase) and set variable</span>
<span class="nv">UUID</span><span class="o">=</span><span class="k">$(</span>cat /dev/random <span class="p">|</span> <span class="nv">LC_CTYPE</span><span class="o">=</span>C tr -dc <span class="s1">&#39;a-z0-9&#39;</span> <span class="p">|</span> fold -w <span class="m">4</span> <span class="p">|</span> head -n <span class="m">1</span><span class="k">)</span>

<span class="c1"># populate ldap specific variables and credentials</span>
<span class="nv">LDAP_HOST</span><span class="o">=</span><span class="nv">$4</span> <span class="c1"># $LDAP_HOST = ldap host (jamf parameter 4)</span>
<span class="nv">LDAP_PASSWORD</span><span class="o">=</span><span class="nv">$5</span> <span class="c1"># $LDAP_PASSWORD = ldap password (jamf parameter 5)</span>
<span class="nv">LDAP_USER</span><span class="o">=</span><span class="nv">$6</span> <span class="c1"># $LDAP_USER = ldap user (jamf parameter 6)</span>
<span class="nv">OU</span><span class="o">=</span><span class="nv">$7</span> <span class="c1"># $OU (jamf parameter 7)</span>
<span class="nv">API_URL</span><span class="o">=</span><span class="k">$(</span>defaults <span class="nb">read</span> /Library/Preferences/com.jamfsoftware.jamf.plist jss_url<span class="k">)</span>
<span class="nv">API_USER</span><span class="o">=</span><span class="nv">$8</span> <span class="c1">#(jamf parameter 10)</span>
<span class="nv">API_PASSWORD</span><span class="o">=</span><span class="nv">$9</span> <span class="c1">#(jamf parameter 11)</span>
<span class="nv">EXISTING_RECORDS</span><span class="o">=</span><span class="k">$(</span>ldapsearch -h <span class="s2">&#34;</span><span class="nv">$LDAP_HOST</span><span class="s2">&#34;</span> -p <span class="m">389</span> -x -D <span class="s2">&#34;</span><span class="nv">$LDAP_USER</span><span class="s2">&#34;</span> -w <span class="s2">&#34;</span><span class="nv">$LDAP_PASSWORD</span><span class="s2">&#34;</span> -b <span class="s2">&#34;</span><span class="nv">$OU</span><span class="s2">&#34;</span> <span class="p">|</span> grep name: <span class="p">|</span> sed <span class="s1">&#39;s/name: //&#39;</span><span class="k">)</span>
<span class="nv">DEVELOPERS</span><span class="o">=</span><span class="k">$(</span>curl -s -u <span class="nv">$API_USER</span>:<span class="nv">$API_PASSWORD</span> -H <span class="s2">&#34;Accept: application/json&#34;</span> -X GET <span class="s2">&#34;</span><span class="nv">$API_URL</span><span class="s2">&#34;</span>JSSResource/ldapservers/name/<span class="nv">$LDAP_HOST</span>/group/DLG-APP-JAMF-Clients-Developers/user/<span class="nv">$3</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/^.*&#34;is_member&#34;:&#34;\([^&#34;]*\)&#34;.*$/\1/&#39;</span><span class="k">)</span>
<span class="nv">BAD_WORDS_LIST</span><span class="o">=</span><span class="k">$(</span>curl -H <span class="s1">&#39;Authorization: token $git_token&#39;</span> -H <span class="s1">&#39;Accept: application/vnd.github.v4.raw&#39;</span> -L https://api.github.com/repos/coolblue-development/office-automation/contents/macOS/bad_words<span class="k">)</span>
<span class="nv">SERIALNUMBER</span><span class="o">=</span><span class="k">$(</span>system_profiler SPHardwareDataType <span class="p">|</span> grep <span class="s1">&#39;Serial Number (system)&#39;</span> <span class="p">|</span> awk <span class="s1">&#39;{print $NF}&#39;</span><span class="k">)</span>

<span class="c1">#####################</span>
<span class="c1">##### Functions #####</span>
<span class="c1">#####################</span>

<span class="c1">### generate new hostname based on prefix and randomized UUID</span>
generate_hostname<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$DEVELOPERS</span> <span class="o">==</span> <span class="s2">&#34;Yes&#34;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nv">PREFIX</span><span class="o">=</span>nldm-
    <span class="k">else</span>
        <span class="nv">PREFIX</span><span class="o">=</span>nllm-
    <span class="k">fi</span>

    <span class="nv">NEW_HOSTNAME</span><span class="o">=</span><span class="nv">$PREFIX$UUID</span>

<span class="k">while</span> <span class="nb">true</span>
<span class="k">do</span>
    <span class="k">if</span> <span class="o">[[</span> <span class="nv">$EXISTING_RECORDS</span> <span class="o">=</span>~ <span class="nv">$NEW_HOSTNAME</span> <span class="o">||</span> <span class="nv">$BAD_WORDS_LIST</span> <span class="o">=</span>~ <span class="nv">$UUID</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        sleep <span class="m">1</span>
    <span class="k">else</span>
        /usr/sbin/scutil --set ComputerName <span class="s2">&#34;</span><span class="nv">$NEW_HOSTNAME</span><span class="s2">&#34;</span>
        /usr/sbin/scutil --set LocalHostName <span class="s2">&#34;</span><span class="nv">$NEW_HOSTNAME</span><span class="s2">&#34;</span>
        /usr/sbin/scutil --set HostName <span class="s2">&#34;</span><span class="nv">$NEW_HOSTNAME</span><span class="s2">&#34;</span>
        <span class="nb">break</span>
    <span class="k">fi</span>
<span class="k">done</span>
<span class="o">}</span>
<span class="c1"># Set the hostname in EA</span>

coolblue-initial-hostname<span class="o">()</span> <span class="o">{</span>
  <span class="c1"># Create a XML payload for the Jamf API.</span>
cat <span class="s">&lt;&lt; EOF &gt; /private/tmp/coolblue-initial-hostname.xml
</span><span class="s">&lt;computer&gt;
</span><span class="s">&lt;extension_attributes&gt;
</span><span class="s">    &lt;extension_attribute&gt;
</span><span class="s">        &lt;name&gt;coolblue-initial-hostname&lt;/name&gt;
</span><span class="s">        &lt;value&gt;$NEW_HOSTNAME&lt;/value&gt;
</span><span class="s">    &lt;/extension_attribute&gt;
</span><span class="s">&lt;/extension_attributes&gt;
</span><span class="s">&lt;/computer&gt;
</span><span class="s">EOF</span>

<span class="c1"># Send payload to Jamf API.</span>
curl -s -u <span class="nv">$API_USER</span>:<span class="nv">$API_PASSWORD</span> <span class="s2">&#34;</span><span class="nv">$API_URL</span><span class="s2">&#34;</span>JSSResource/computers/serialnumber/<span class="nv">$SERIALNUMBER</span>/subset/extensionattributes -T <span class="s2">&#34;/private/tmp/coolblue-initial-hostname.xml&#34;</span> -X PUT
<span class="c1"># Remove Payload from machine.</span>
rm -f /private/tmp/coolblue-initial-hostname.xml
<span class="c1"># Done!</span>
<span class="o">}</span>


<span class="c1">##################</span>
<span class="c1">##### Script #####</span>
<span class="c1">##################</span>

generate_hostname
coolblue-initial-hostname</code></pre></div>]]></content>
        </item>
        
    </channel>
</rss>
